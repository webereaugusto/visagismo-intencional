---
const whatsappLink = "https://wa.me/5519991103018?text=Olá, gostaria de agendar uma consultoria exclusiva";
---

<section class="relative min-h-screen flex items-end md:items-center overflow-hidden bg-dark" id="hero">
  <!-- Background Image with Parallax (Desktop) / Fixed (Mobile) -->
  <div class="absolute inset-0 z-0 overflow-hidden">
    <div 
      class="absolute inset-0 w-full h-full md:h-[130%] md:-top-[15%] will-change-transform"
      id="parallax-bg"
    >
      <img 
        src="/images/baner.webp" 
        alt="Visagismo Intencional - Ery Junior"
        class="w-full h-full object-cover object-[85%_top] md:object-right opacity-80 md:opacity-70"
        fetchpriority="high"
        decoding="sync"
        width="1920"
        height="1080"
      />
    </div>
    <!-- Mobile: Stronger gradient for text readability -->
    <div class="absolute inset-0 bg-gradient-to-t from-dark via-dark/80 to-dark/30 md:bg-gradient-to-r md:from-dark/80 md:via-dark/50 md:to-transparent"></div>
  </div>
  
  <!-- Elegant Corner Frame -->
  <div class="absolute inset-2 sm:inset-3 md:inset-4 lg:inset-6 z-20 pointer-events-none">
    <!-- Top Left Corner -->
    <div class="absolute top-0 left-0 w-10 sm:w-16 md:w-24 lg:w-32 h-10 sm:h-16 md:h-24 lg:h-32">
      <div class="absolute top-0 left-0 w-full h-[1px] bg-gradient-to-r from-gold/60 md:from-gold/80 to-transparent"></div>
      <div class="absolute top-0 left-0 h-full w-[1px] bg-gradient-to-b from-gold/60 md:from-gold/80 to-transparent"></div>
    </div>
    
    <!-- Top Right Corner -->
    <div class="absolute top-0 right-0 w-10 sm:w-16 md:w-24 lg:w-32 h-10 sm:h-16 md:h-24 lg:h-32">
      <div class="absolute top-0 right-0 w-full h-[1px] bg-gradient-to-l from-gold/60 md:from-gold/80 to-transparent"></div>
      <div class="absolute top-0 right-0 h-full w-[1px] bg-gradient-to-b from-gold/60 md:from-gold/80 to-transparent"></div>
    </div>
    
    <!-- Bottom Left Corner -->
    <div class="absolute bottom-0 left-0 w-10 sm:w-16 md:w-24 lg:w-32 h-10 sm:h-16 md:h-24 lg:h-32">
      <div class="absolute bottom-0 left-0 w-full h-[1px] bg-gradient-to-r from-gold/60 md:from-gold/80 to-transparent"></div>
      <div class="absolute bottom-0 left-0 h-full w-[1px] bg-gradient-to-t from-gold/60 md:from-gold/80 to-transparent"></div>
    </div>
    
    <!-- Bottom Right Corner -->
    <div class="absolute bottom-0 right-0 w-10 sm:w-16 md:w-24 lg:w-32 h-10 sm:h-16 md:h-24 lg:h-32">
      <div class="absolute bottom-0 right-0 w-full h-[1px] bg-gradient-to-l from-gold/60 md:from-gold/80 to-transparent"></div>
      <div class="absolute bottom-0 right-0 h-full w-[1px] bg-gradient-to-t from-gold/60 md:from-gold/80 to-transparent"></div>
    </div>
  </div>
  
  <!-- Content -->
  <div class="relative z-10 max-w-7xl mx-auto px-5 md:px-6 pb-24 pt-32 md:py-32 w-full">
    <div class="max-w-3xl">
      <!-- Label -->
      <div class="flex items-center gap-2 md:gap-3 mb-4 md:mb-8 hero-animate" style="--delay: 0.2s">
        <span class="w-8 md:w-12 h-[1px] bg-gold animate-line-hero"></span>
        <span class="text-gold text-[10px] md:text-sm tracking-[0.2em] md:tracking-[0.3em] uppercase font-montserrat font-medium">
          Cambuí • Campinas
        </span>
      </div>
      
      <!-- Main Title -->
      <h1 class="font-playfair leading-[0.85] md:leading-[0.9] mb-6 md:mb-10">
        <span class="text-gradient-gold block text-[3.2rem] md:text-8xl lg:text-9xl xl:text-[10rem] font-medium tracking-tight hero-animate" style="--delay: 0.4s">Visagismo</span>
        <span class="text-white block italic text-[2.5rem] md:text-7xl lg:text-8xl xl:text-9xl font-light -mt-1 md:-mt-2 hero-animate" style="--delay: 0.6s">Intencional</span>
      </h1>
      
      <!-- Subtitle -->
      <p class="font-montserrat text-gray-light text-sm md:text-lg max-w-xl leading-relaxed mb-8 md:mb-12 hero-animate" style="--delay: 0.8s">
        Visagismo em Campinas é no novíssimo <strong class="text-gold">Visagismo Intencional</strong> do Ery Junior. 
        No coração pulsante do Cambuí, onde ciência e arte se encontram para revelar sua melhor versão.
      </p>
      
      <!-- CTA Buttons -->
      <nav class="flex flex-col sm:flex-row gap-3 md:gap-4 hero-animate" style="--delay: 1s" aria-label="Ações principais">
        <a 
          href={whatsappLink}
          target="_blank"
          rel="noopener noreferrer"
          aria-label="Agendar consultoria de visagismo via WhatsApp"
          class="bg-gradient-to-r from-gold to-gold-dark text-dark px-6 md:px-10 py-4 md:py-5 text-xs md:text-sm font-semibold tracking-wider uppercase hover:shadow-lg hover:shadow-gold/30 transition-all duration-300 animate-shine text-center"
        >
          Agende sua Consultoria
        </a>
        
        <a 
          href="#visagismo"
          aria-label="Saiba mais sobre visagismo"
          class="border border-gold/50 text-white px-6 md:px-10 py-4 md:py-5 text-xs md:text-sm tracking-wider uppercase hover:bg-gold/10 hover:border-gold transition-all duration-300 text-center"
        >
          Saiba Mais
        </a>
      </nav>
    </div>
  </div>
  
  <!-- Scroll Indicator - Hidden on small mobile -->
  <div class="absolute bottom-6 md:bottom-10 left-1/2 -translate-x-1/2 z-10 hidden sm:block">
    <a href="#essencia" aria-label="Rolar para próxima seção" class="block">
      <div class="w-9 md:w-10 h-9 md:h-10 rounded-full border border-gold/50 flex items-center justify-center hover:border-gold hover:bg-gold/10 transition-all" role="presentation">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 md:h-4 w-3.5 md:w-4 text-gold animate-bounce" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
        </svg>
      </div>
    </a>
  </div>
</section>

<style>
  .hero-animate {
    opacity: 0;
    transform: translateY(30px);
    animation: heroFadeUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: var(--delay, 0s);
  }
  
  @keyframes heroFadeUp {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .animate-line-hero {
    width: 0;
    animation: lineGrow 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    animation-delay: 0.3s;
  }
  
  @keyframes lineGrow {
    to {
      width: 3rem;
    }
  }
  
  @media (prefers-reduced-motion: reduce) {
    .hero-animate {
      opacity: 1;
      transform: none;
      animation: none;
    }
    .animate-line-hero {
      width: 3rem;
      animation: none;
    }
  }
</style>

<script>
  // Parallax effect - Desktop only
  const parallaxBg = document.getElementById('parallax-bg');
  const heroSection = document.getElementById('hero');
  
  if (parallaxBg && heroSection) {
    // Check if device is mobile (width < 768px)
    const isMobile = () => window.innerWidth < 768;
    
    let ticking = false;
    
    const updateParallax = () => {
      if (isMobile()) {
        // Reset transform on mobile for fixed position
        parallaxBg.style.transform = 'none';
        return;
      }
      
      const scrolled = window.pageYOffset;
      const heroHeight = heroSection.offsetHeight;
      
      // Only apply parallax while hero is visible
      if (scrolled < heroHeight) {
        const speed = 0.4;
        parallaxBg.style.transform = `translateY(${scrolled * speed}px)`;
      }
      ticking = false;
    };
    
    window.addEventListener('scroll', () => {
      if (!ticking) {
        requestAnimationFrame(updateParallax);
        ticking = true;
      }
    }, { passive: true });
    
    // Handle resize
    window.addEventListener('resize', () => {
      if (isMobile()) {
        parallaxBg.style.transform = 'none';
      }
    }, { passive: true });
  }
</script>
